---
import Welcome from '../components/Welcome.astro'
import Layout from '../layouts/Layout.astro'

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
  <button id="testButton">test</button>
</Layout>

<script>
  const sendTestPost = async () => {
    try {
      const response = await fetch('/api/test', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          content: 'Hello from test button',
        }),
      })

      const data = await response.json()
      console.log('Response:', data)
    } catch (error) {
      console.error('Error:', error)
    }
  }

  document.getElementById('testButton').addEventListener('click', sendTestPost)
</script>
